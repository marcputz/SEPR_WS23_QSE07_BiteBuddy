<h1>Create a recipe</h1>
<form #form="ngForm" [class.was-validated]="form.submitted" (ngSubmit)="onSubmit(form)" class="centered-container">
  <div class="d-flex flex-row w-auto mb-3">
    <div class="col">
    <label for="image">Image:</label>
    <input type="file"
           id="image"
           name="image"
           accept="image/*"
           (change)="onPictureChange($event)"
           required
    >
    </div>
  </div>

  <div class="d-flex flex-row w-auto mb-3">
    <div class="col">
    <!-- Title Input -->
    <label for="title">Title: </label>
    <input type="text"
           id="title"
           name="title"
           placeholder="Cheeseburger"
           required
           [(ngModel)]="recipe.name"
    >
    </div>
  </div>

  <div class="d-flex flex-row w-auto mb-3">
    <div class="col-sm-3">
    <app-autocomplete
      #ingredientInput
      id="ingredients"
      name="ingredients"
      class="col-md-10 col-lg-8"
      textInputClass="input"
      valueNeedsToMatchSuggestion="true"
      [(ngModel)]="ingredient"
      [formatModel]="formatIngredient"
      [suggestions]="ingredientSuggestions"
    ></app-autocomplete>
    </div>
    <div class="col-sm-3">
    <button (click)="addIngredient(ingredientInput)" class="btn btn-success">
      <i class="bi-plus-square"></i>
      Add Ingredient</button>
    </div>
    <br>
    <table *ngIf="recipe.ingredients.length > 0">
      <thead>
      <tr>
        <th>Name</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let ingredient of recipe.ingredients">
        <td>{{ingredient}}</td>
      </tr>
      </tbody>
    </table>
    <br>
  </div>

  <div class="row">
    <!-- Description Input -->
    <label for="description">Description:</label>
    <textarea id="description"
              name="description"
              [(ngModel)]="recipe.description"
              required
    ></textarea>
    <br>
    <!-- Submit Button -->
    <div class="col-3">
    <input type="submit" value="Submit">
    </div>
  </div>
</form>
